<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <title>My Video Downloader</title>
    <style>
        body { font-family: sans-serif; background: #1a1a1a; color: white; text-align: center; padding: 50px; }
        .box { background: #2a2a2a; padding: 30px; border-radius: 15px; display: inline-block; width: 100%; max-width: 400px; }
        input { width: 80%; padding: 12px; border-radius: 20px; border: none; margin-bottom: 20px; }
        button { padding: 12px 30px; border-radius: 20px; border: none; background: #ff0050; color: white; cursor: pointer; }
        #result { margin-top: 20px; display: none; }
        .dl-btn { display: inline-block; background: #00f2ea; color: black; padding: 10px 20px; text-decoration: none; border-radius: 10px; margin-top: 10px; font-weight: bold; }
    </style>
</head>
<body>
    <div class="box">
        <h1>Video Downloader</h1>
        <input type="text" id="url" placeholder="Paste link here...">
        <button onclick="getLink()">Link ယူမည်</button>
        <div id="result">
            <h3 id="title"></h3>
            <img id="thumb" src="" style="width: 100%; border-radius: 10px;">
            <a id="dlLink" class="dl-btn" href="" target="_blank">Download Video</a>
        </div>
    </div>

    <script>
        async function getLink() {
            const url = document.getElementById('url').value;
            const res = await fetch('/download', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({url: url})
            });
            const data = await res.json();
            if(data.success) {
                document.getElementById('result').style.display = 'block';
                document.getElementById('title').innerText = data.title;
                document.getElementById('thumb').src = data.thumbnail;
                document.getElementById('dlLink').href = data.download_url;
            } else {
                alert("Error: " + data.error);
            }
        }
    </script>
</body>
</html>
